name: build

on:
  pull_request: {}
  push:
    branches: [ main ]

jobs:
  build:
    uses: Flaminel/umbrella-workflows-test/.github/workflows/build.yml@main
    with:
      dockerRepository: flaminel/testing
      githubContext: ${{ toJSON(github) }}
      appName: testing
      baseImage: 6.0-alpine
    secrets:
      PAT: ${{ secrets.PAT }}
      DOCKER_USERNAME: ${{ secrets.DOCKER_USERNAME }}
      DOCKER_PASSWORD: ${{ secrets.DOCKER_PASSWORD }}